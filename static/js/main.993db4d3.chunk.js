(this["webpackJsonpreact-rpg-character"]=this["webpackJsonpreact-rpg-character"]||[]).push([[0],{27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,i,r,c,l,s,o,u,b,h,p,j,d,O,y,f,g,m,_,v,k,w,x,P,z,C,D,E,N,L,A,S,V,F,M,J,R,I,T,B=n(1),U=n.n(B),q=n(12),G=n.n(q),H=(n(27),n(4)),K=n(5),Q=n(6),W=n(2),X=(n(7),n(0)),Y=(s=l=function(){function e(t,n){var a=this;Object(K.a)(this,e),Object(H.a)(this,"_name",i,this),Object(H.a)(this,"_base",r,this),Object(H.a)(this,"_level",c,this),Object(X.f)(this),this._name=t,this._base=n,this._level=0,this._base.addDependency((function(e){a._level=Math.max(0,Math.min(a._level,e))}))}return Object(Q.a)(e,[{key:"train",value:function(){this._level=Math.max(0,Math.min(this._level+1,this._base.value,e.LEVELS.length-1))}},{key:"name",get:function(){return this._name}},{key:"level",get:function(){return this._level},set:function(e){this._level=e}}]),e}(),l.LEVELS=["\u0423\u0440\u043e\u0432\u0435\u043d\u044c 0: \u041d\u0435\u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439","\u0423\u0440\u043e\u0432\u0435\u043d\u044c 1: \u041d\u043e\u0432\u0438\u0447\u043e\u043a","\u0423\u0440\u043e\u0432\u0435\u043d\u044c 2: \u0423\u0447\u0435\u043d\u0438\u043a","\u0423\u0440\u043e\u0432\u0435\u043d\u044c 3: \u0410\u0434\u0435\u043f\u0442","\u0423\u0440\u043e\u0432\u0435\u043d\u044c 4: \u042d\u043a\u0441\u043f\u0435\u0440\u0442","\u0423\u0440\u043e\u0432\u0435\u043d\u044c 5: \u041c\u0430\u0441\u0442\u0435\u0440"],a=s,i=Object(W.a)(a.prototype,"_name",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=Object(W.a)(a.prototype,"_base",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(W.a)(a.prototype,"_level",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(a.prototype,"train",[X.b],Object.getOwnPropertyDescriptor(a.prototype,"train"),a.prototype),Object(W.a)(a.prototype,"level",[X.c],Object.getOwnPropertyDescriptor(a.prototype,"level"),a.prototype),a),Z=(o=function(){function e(t){Object(K.a)(this,e),Object(H.a)(this,"_attack",u,this),Object(H.a)(this,"_stealth",b,this),Object(H.a)(this,"_archery",h,this),Object(H.a)(this,"_learnability",p,this),Object(H.a)(this,"_survival",j,this),Object(H.a)(this,"_medicine",d,this),Object(H.a)(this,"_intimidation",O,this),Object(H.a)(this,"_insight",y,this),Object(H.a)(this,"_appearance",f,this),Object(H.a)(this,"_manipulation",g,this),Object(X.f)(this),this._attack=new Y("\u0410\u0442\u0430\u043a\u0430",t.strength),this._stealth=new Y("\u0421\u0442\u0435\u043b\u0441",t.dexterity),this._archery=new Y("\u0421\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u043b\u0443\u043a\u0430",t.dexterity),this._learnability=new Y("\u041e\u0431\u0443\u0447\u0430\u0435\u043c\u043e\u0441\u0442\u044c",t.intelligence),this._survival=new Y("\u0412\u044b\u0436\u0438\u0432\u0430\u043d\u0438\u0435",t.intelligence),this._medicine=new Y("\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430",t.intelligence),this._intimidation=new Y("\u0417\u0430\u043f\u0443\u0433\u0438\u0432\u0430\u043d\u0438\u0435",t.charisma),this._insight=new Y("\u041f\u0440\u043e\u043d\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",t.charisma),this._appearance=new Y("\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434",t.charisma),this._manipulation=new Y("\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",t.charisma)}return Object(Q.a)(e,[{key:"attack",get:function(){return this._attack}},{key:"stealth",get:function(){return this._stealth}},{key:"archery",get:function(){return this._archery}},{key:"learnability",get:function(){return this._learnability}},{key:"survival",get:function(){return this._survival}},{key:"medicine",get:function(){return this._medicine}},{key:"intimidation",get:function(){return this._intimidation}},{key:"insight",get:function(){return this._insight}},{key:"appearance",get:function(){return this._appearance}},{key:"manipulation",get:function(){return this._manipulation}}]),e}(),u=Object(W.a)(o.prototype,"_attack",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=Object(W.a)(o.prototype,"_stealth",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=Object(W.a)(o.prototype,"_archery",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(W.a)(o.prototype,"_learnability",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=Object(W.a)(o.prototype,"_survival",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(W.a)(o.prototype,"_medicine",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=Object(W.a)(o.prototype,"_intimidation",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=Object(W.a)(o.prototype,"_insight",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=Object(W.a)(o.prototype,"_appearance",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=Object(W.a)(o.prototype,"_manipulation",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o),$=n(8),ee=n(16),te=n(14),ne=(m=function(){function e(t,n){Object(K.a)(this,e),Object(H.a)(this,"_value",_,this),Object(H.a)(this,"_name",v,this),Object(X.f)(this),this._value=t,this._name=n}return Object(Q.a)(e,[{key:"name",get:function(){return this._name}}]),e}(),_=Object(W.a)(m.prototype,"_value",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=Object(W.a)(m.prototype,"_name",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m),ae=(k=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e,a){var i;return Object(K.a)(this,n),i=t.call(this,e,a),Object(H.a)(i,"_dependenciesCallbacks",w,Object($.a)(i)),Object(X.f)(Object($.a)(i)),i._dependenciesCallbacks=[],i}return Object(Q.a)(n,[{key:"notifyAll",value:function(){var e=this;this._dependenciesCallbacks.forEach((function(t){return t(e._value)}))}},{key:"addDependency",value:function(e){this._dependenciesCallbacks.push(e)}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.notifyAll()}}]),n}(ne),w=Object(W.a)(k.prototype,"_dependenciesCallbacks",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(k.prototype,"notifyAll",[X.b],Object.getOwnPropertyDescriptor(k.prototype,"notifyAll"),k.prototype),Object(W.a)(k.prototype,"addDependency",[X.b],Object.getOwnPropertyDescriptor(k.prototype,"addDependency"),k.prototype),Object(W.a)(k.prototype,"value",[X.c],Object.getOwnPropertyDescriptor(k.prototype,"value"),k.prototype),k),ie=(x=function(){function e(){Object(K.a)(this,e),Object(H.a)(this,"_strength",P,this),Object(H.a)(this,"_dexterity",z,this),Object(H.a)(this,"_intelligence",C,this),Object(H.a)(this,"_charisma",D,this),Object(X.f)(this),this._strength=new ae(0,"\u0421\u0438\u043b\u0430"),this._dexterity=new ae(0,"\u041b\u043e\u0432\u043a\u043e\u0441\u0442\u044c"),this._intelligence=new ae(0,"\u0418\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442"),this._charisma=new ae(0,"\u0425\u0430\u0440\u0438\u0437\u043c\u0430")}return Object(Q.a)(e,[{key:"strength",get:function(){return this._strength}},{key:"dexterity",get:function(){return this._dexterity}},{key:"intelligence",get:function(){return this._intelligence}},{key:"charisma",get:function(){return this._charisma}}]),e}(),P=Object(W.a)(x.prototype,"_strength",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(W.a)(x.prototype,"_dexterity",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Object(W.a)(x.prototype,"_intelligence",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Object(W.a)(x.prototype,"_charisma",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x),re=(E=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e,a){var i;return Object(K.a)(this,n),i=t.call(this,a(),e),Object(H.a)(i,"_initialValueCallback",N,Object($.a)(i)),Object(X.f)(Object($.a)(i)),i._initialValueCallback=a,i}return Object(Q.a)(n,[{key:"recalculate",value:function(){this._value=this._initialValueCallback()}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}}]),n}(ne),N=Object(W.a)(E.prototype,"_initialValueCallback",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(E.prototype,"recalculate",[X.b],Object.getOwnPropertyDescriptor(E.prototype,"recalculate"),E.prototype),Object(W.a)(E.prototype,"value",[X.c],Object.getOwnPropertyDescriptor(E.prototype,"value"),E.prototype),E),ce=(L=function(){function e(t){var n=this;Object(K.a)(this,e),Object(H.a)(this,"_vitality",A,this),Object(H.a)(this,"_evasion",S,this),Object(H.a)(this,"_energy",V,this),Object(X.f)(this),this._vitality=new re("\u0416\u0438\u0437\u043d\u0435\u043d\u043d\u0430\u044f \u0441\u0438\u043b\u0430",(function(){return 3+t.strength.value})),t.strength.addDependency((function(){return n._vitality.recalculate()})),this._evasion=new re("\u0423\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435",(function(){return 10+t.dexterity.value})),t.dexterity.addDependency((function(){return n._evasion.recalculate()})),this._energy=new re("\u042d\u043d\u0435\u0440\u0433\u0438\u0447\u043d\u043e\u0441\u0442\u044c",(function(){return t.dexterity.value+t.intelligence.value})),t.dexterity.addDependency((function(){return n._energy.recalculate()})),t.intelligence.addDependency((function(){return n._energy.recalculate()}))}return Object(Q.a)(e,[{key:"vitality",get:function(){return this._vitality}},{key:"evasion",get:function(){return this._evasion}},{key:"energy",get:function(){return this._energy}}]),e}(),A=Object(W.a)(L.prototype,"_vitality",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=Object(W.a)(L.prototype,"_evasion",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Object(W.a)(L.prototype,"_energy",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L),le=(F=function(){function e(t){Object(K.a)(this,e),Object(H.a)(this,"_name",M,this),Object(H.a)(this,"_baseParameters",J,this),Object(H.a)(this,"_dependentParameters",R,this),Object(H.a)(this,"_skills",I,this),Object(X.f)(this),this._name=t,this._baseParameters=new ie,this._dependentParameters=new ce(this._baseParameters),this._skills=new Z(this._baseParameters)}return Object(Q.a)(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e.trimLeft()}},{key:"baseParameters",get:function(){return this._baseParameters}},{key:"dependentParameters",get:function(){return this._dependentParameters}},{key:"skills",get:function(){return this._skills}},{key:"damage",value:function(){this._dependentParameters.vitality.value>0&&this._dependentParameters.vitality.value--}}]),e}(),M=Object(W.a)(F.prototype,"_name",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(W.a)(F.prototype,"_baseParameters",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=Object(W.a)(F.prototype,"_dependentParameters",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=Object(W.a)(F.prototype,"_skills",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(W.a)(F.prototype,"name",[X.c],Object.getOwnPropertyDescriptor(F.prototype,"name"),F.prototype),Object(W.a)(F.prototype,"damage",[X.b],Object.getOwnPropertyDescriptor(F.prototype,"damage"),F.prototype),F),se=n(11),oe=n(15),ue=n(9),be=n(10),he=be.b.input.attrs((function(e){return{type:"text"}}))(T||(T=Object(ue.a)(["\n  padding: 5px 10px;\n  font-size: 15px;\n  border: 1px solid #eaeaea;\n  border-radius: 3px;\n  flex: 1;\n"]))),pe=n(3);var je,de,Oe,ye,fe,ge=function(e){e.type;var t=Object(oe.a)(e,["type"]);return Object(pe.jsx)(he,Object(se.a)({},t))},me=n(34),_e=be.b.button(je||(je=Object(ue.a)(["\n  border: none;\n  background: #eeeeee;\n  outline: none;\n  color: rgb(63, 69, 74);\n  padding: 10px 15px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: 0.1s;\n  margin-right: 5px;\n  margin-bottom: 5px;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return!e.disabled&&Object(be.a)(de||(de=Object(ue.a)(["\n    &:hover {\n      opacity: 0.8;\n    }\n\n    &:active {\n      opacity: 0.7;\n    }\n  "])))}),(function(e){return e.primary&&Object(be.a)(Oe||(Oe=Object(ue.a)(["\n    background: rgb(0, 108, 255);\n    color: white;\n  "])))}),(function(e){return e.secondary&&Object(be.a)(ye||(ye=Object(ue.a)(["\n    background: rgb(255, 0, 103);\n    color: white;\n  "])))}),(function(e){return e.disabled&&Object(be.a)(fe||(fe=Object(ue.a)(["\n    color: #b8b8b8;\n    background: rgb(241, 241, 241);\n    cursor: auto;\n  "])))}));var ve=function(e){var t=e.children,n=Object(oe.a)(e,["children"]);return Object(pe.jsx)(_e,Object(se.a)(Object(se.a)({},n),{},{children:t}))};var ke,we=(ke=function(){var e,t=(e="",Object(B.useRef)(new le(e)).current),n=U.a.createRef(),a=function(e,t){var n=function(t){if(e.current){var n=e.current.files;if(n&&!(n.length<1)){var i=n[0],r=new FileReader;r.onload=a,r.readAsText(i),e.current.value=""}}},a=function(e){if(e.target){var t=e.target.result;try{i(t)}catch(e){alert("\u0424\u0430\u0439\u043b \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443")}}else alert("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b")},i=function(e){var n=JSON.parse(e);t.name=n.name,Object.keys(n.baseParameters).forEach((function(e){var a=e;t.baseParameters[a].value=n.baseParameters[a]})),Object.keys(n.dependentParameters).forEach((function(e){var a=e;t.dependentParameters[a].value=n.dependentParameters[a]})),Object.keys(n.skills).forEach((function(e){var a=e;t.skills[a].level=n.skills[a]}))};return{upload:function(){e.current?(e.current.click(),e.current.onchange=n):alert("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b")},change:n}}(n,t),i=function(e){var t={name:e.name,baseParameters:{},dependentParameters:{},skills:{}};return Object.keys(e.baseParameters).forEach((function(n){var a=n;t.baseParameters[a]=e.baseParameters[a].value})),Object.keys(e.dependentParameters).forEach((function(n){var a=n;t.dependentParameters[a]=e.dependentParameters[a].value})),Object.keys(e.skills).forEach((function(n){var a=n;t.skills[a]=e.skills[a].level})),{download:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","character.json"),document.body.appendChild(n),n.click(),n.remove()}}}(t),r=Object.keys(t.baseParameters),c=Object.keys(t.dependentParameters),l=Object.keys(t.skills);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsxs)("div",{className:"space-between",children:[Object(pe.jsx)("span",{children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436?"}),Object(pe.jsx)("input",{type:"file",ref:n,hidden:!0}),Object(pe.jsx)(ve,{onClick:a.upload,children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]}),Object(pe.jsx)("h1",{className:"name",children:""===t.name?"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430":t.name}),Object(pe.jsx)(ge,{placeholder:"\u0418\u043c\u044f",value:t.name,onChange:function(e){return t.name=e.target.value}}),Object(pe.jsxs)("div",{className:"block",children:[Object(pe.jsx)("header",{className:"parameters-header-text",children:"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438:"}),r.map((function(e,n){return Object(pe.jsxs)("div",{className:"space-between",children:[Object(pe.jsxs)("span",{children:[t.baseParameters[e].name,":"]}),Object(pe.jsx)("input",{type:"number",value:t.baseParameters[e].value,onChange:function(n){return t.baseParameters[e].value=+n.target.value}})]},n)}))]}),Object(pe.jsxs)("div",{className:"block",children:[Object(pe.jsx)("header",{className:"parameters-header-text",children:"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438:"}),c.map((function(e,n){return Object(pe.jsxs)("div",{className:"space-between",children:[Object(pe.jsx)("span",{children:t.dependentParameters[e].name}),Object(pe.jsx)("span",{children:t.dependentParameters[e].value})]},n)})),Object(pe.jsx)(ve,{secondary:!0,onClick:function(){return t.damage()},children:"\u041d\u0430\u043d\u0435\u0441\u0442\u0438 \u0443\u0440\u043e\u043d"})]}),Object(pe.jsxs)("div",{className:"block",children:[Object(pe.jsx)("header",{className:"parameters-header-text",children:"\u0421\u043a\u0438\u043b\u043b\u044b:"}),l.map((function(e,n){return Object(pe.jsxs)("div",{className:"skill",children:[Object(pe.jsx)("b",{children:t.skills[e].name}),Object(pe.jsx)("p",{children:Y.LEVELS[t.skills[e].level]}),Object(pe.jsx)(ve,{onClick:function(){return t.skills[e].train()},children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]},n)}))]}),Object(pe.jsx)(ve,{primary:!0,onClick:i.download,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},function(){return Object(pe.jsx)(me.a,{children:function(){return ke()}})});var xe=function(){return Object(pe.jsx)(we,{})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};G.a.render(Object(pe.jsx)(U.a.StrictMode,{children:Object(pe.jsx)(xe,{})}),document.getElementById("root")),Pe()}},[[32,1,2]]]);
//# sourceMappingURL=main.993db4d3.chunk.js.map